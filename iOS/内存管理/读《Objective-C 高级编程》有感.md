## 前言

学习知识很重要的一个点是举一反三，能够形成自己的知识网络。把很多细小的知识点连接成线，再把线连接成面，最后形成自己的知识网络。这样学习来的知识才能融汇贯通。

## 自动引用计数

自动引用计数（ARC，Automatic Reference Counting）是内存管理的一种计数。

[维基百科](https://en.wikipedia.org/wiki/Automatic_Reference_Counting)中指出：ARC不像垃圾回收机制，ARC并不能处理循环引用的问题，这也意味着如果一个对象被强引用，那么这个对象将不会被释放，会造成内存泄露。除此之外，还有可能造成死锁。

上大学时，曾经阅读过《深入理解Java虚拟机》一书，其中说道JVM对于内存管理的方式是使用垃圾回收机制而不是使用引用计数的方式，所以非常好奇这两种机制的区别。参考[知乎大佬的回答](https://www.zhihu.com/question/21539353)，基于引用计数和基于trace(扫描)这两大类别的自动内存管理方式最大的不同之处在于：**前者只需要局部信息，而后者需要全局信息**。除此之外，性能上的差别，tracing GC更吃内存。在内存充裕的情况下，tracing GC的整体开销比引用计数方式更低一些，吞吐量更高，其内存分配通常也更快。不过tracing GC通常会比引用计数方式的延迟大一些，而且内存越紧张的时候tracing GC的效率反而更低。这也解释了为什么iOS系统会使用引用计数的方式来管理内存，因为移动设备的内存相比服务器而言往往比较紧缺。



