# 什么是函数式编程？

函数式编程简称`FP(Functional Programming)`，函数式编程就是一种抽象程度很高的编程范式，它将计算机运算看做是数学中函数的计算，而纯粹的函数式编程语言编写的函数没有变量，因此，任意一个函数，只要输入是确定的，输出就是确定的，这种纯函数我们称之为没有副作用。而允许使用变量的程序设计语言，由于函数内部的变量状态不确定，同样的输入，可能得到不同的输出，因此，这种函数是有副作用的。

**函数式编程的一个特点就是：允许把函数本身作为参数传入另一个函数，同时还允许返回一个函数！**

> 函数表达式： y = f(x) ---> x = f(x) ---> y = f(f(x))

**常规需求例子，感受函数式的舒服！**

- 对于数组 `[1,2,3,4,5,6,7,8,9,10]`，首先获取 `> 2` 的数字，
- 获取到的数字之后 + 1，
- 再输出所有数字中的偶数

```swift
let array = [1,2,3,4,5,6,7,8,9,10]
for num in array{
            if num > 2{
                let number = num + 1
                if (number % 2 == 0) {
                    print(number)
                  }
            }
        }
```

- 上面的代码嵌套层次之深，我觉得已经非常恶心
- 代码的可读性也是非常差的
- 代码复用性较低
- 维护以及代码构建成本太高，这样就成了函数式出现的必要性

```swift
let array = [1,2,3,4,5,6,7,8,9,10]
array.filter{ $0 > 2}
            .filter{ ($0+1) % 2 == 1}
            .forEach { print($0) }
```

- 代码层次非常清晰
- 代码可读性高
- 代码复用性高
- 代码简洁，直接面向开发需求

# 什么是响应式编程？

## 概念

> 在计算机中，**响应式编程**或**反应式编程**（英语：Reactive programming）是一种面向数据流和变化传播的编程范式。这意味着可以在编程语言中很方便地表达静态或动态的数据流，而相关的计算模型会自动将变化的值通过数据流进行传播。响应式编程最初是为了简化交互式用户界面的创建和实时系统动画的绘制而提出来的一种方法，但它本质上是一种通用的编程范式。例如，在[MVC软件架构](https://zh.wikipedia.org/wiki/Model-view-controller)中，响应式编程允许将相关模型的变化自动反映到视图上，反之亦然。-- 维基百科

**对象对某一数据流变化做出响应的这种编码方式称为响应式。**
例如我们在哔哩哔哩观看视频，我们只需要在某一个时刻订阅了这个视频，后面平台自媒体运营者不断更新视频，我们随着时间也能自定接受推送，这就是响应。

在iOS开发中我们经常会响应一些事件`button、tap、textField、textView、notifaction、KVO、NSTimer`等等这些，都需要做响应监听，响应后都需要在对应的响应事件中去做处理，而原生开发中，触发对象与响应方法是分离的，如`button`的初始化和点击响应方法是分离的。功能代码与逻辑代码分析，导致很多比较恶心的感觉！

## 例子

```
a = 1
b = 2
c = a + b // c:3
a = 2
c? 
```

我们初始化了a,和b，可以计算出c = 3。当a是一个根据异步事件变化的序列时，比如a改变为2，那这个时候c的值是不会变的。而响应式编程范式实现的是对这种变化进行传递，在改变a时，c也会随之发生变化，在这个例子中c 会等于4。当然我们可以通过多种方式来实现传递变化，比如我们可以使用Notification,delegate,setter等方式，在改变a和b的值时发送通知，同时监听通知来重新计算出c的值。而响应式编程就是使用高阶函数的方式来简化类似的操作。

```
c = sum(a,b)
```

可以理解为有这么一个动态的函数`sum`，会计算a + b的和，只要a和b的值发生改变，sum的值也会随之改变。响应式编程的概念足够单独出一篇文章，因此不再赘述，可以参考其他的博文。