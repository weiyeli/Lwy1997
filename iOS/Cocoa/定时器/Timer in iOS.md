# Timer in iOS

## 前言

定时器是iOS开发中十分常用的一种技术，使用过程中也踩了许多的坑。这篇博文总结一下相关知识点。

## 网络相关的case

遇到跟网络相关的case要十分小心，特别是在移动端，很容易出现bug。特别是

1. 有网->无网、无网->有网
2. 网络波动
3. 网络延迟

### 有网->无网

网络中断时应该把定时器暂停。

定时器暂停

```swift
timer?.fireDate = Date.distantFuture
```

将定时器的触发日期设置到无穷久，可以看做定时器暂停了。

### 无网->有网

定时器重启

```sw
fileInfoTimer?.fireDate = Date()
```

将定时器的触发日期设置到当前时间，可以看做定时器重启了。



